<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TRACTION Toolset</title>
    <link rel="icon" type="image/x-icon" href="https://traction-project.github.io/images/logo.png">

    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport" />

    <script src="https://traction-project.github.io/scripts/navbar_menu.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link rel="stylesheet" href="https://traction-project.github.io/styles/style.css" />
  </head>
  <body>
    





<nav class="navbar is-dark" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="https://traction-project.github.io/">
      <img src="https://traction-project.github.io/images/menu_logo.png">
    </a>

    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div id="navbarBasicExample" class="navbar-menu">
    <div class="navbar-start">
      <a class="navbar-item " href="https://traction-project.github.io/">
        Home
      </a>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link ">
          Co-Creation Space
        </a>

        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://traction-project.github.io/co-creation-space">
            Co-Creation Space
          </a>
          <a class="navbar-item" href="https://traction-project.github.io/face-and-object-recognition">
            Face and Object Recognition
          </a>
        </div>
      </div>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link is-active">
          Co-Creation Stage
        </a>

        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://traction-project.github.io/co-creation-stage">
            Co-Creation Stage
          </a>
          <a class="navbar-item" href="https://traction-project.github.io/encoding-api">
            Encoding API for Co-Creation Stage
          </a>
          <a class="navbar-item" href="https://traction-project.github.io/pre-recorded-content-adaptation">
            Pre-Recorded Content Adaptation
          </a>
          <a class="navbar-item" href="https://traction-project.github.io/live-content-adaptation">
            Live Content Adaptation
          </a>
        </div>
      </div>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link ">
          Immersive Experiences
        </a>

        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://traction-project.github.io/social-vr">
            Social VR
          </a>
          <a class="navbar-item" href="https://traction-project.github.io/immersive-adaptive-player">
            Immsersive Adaptive Player
          </a>
        </div>
      </div>
    </div>
  </div>
</nav>


    

    <section class="section">
      <div class="container">
        
          <nav class="breadcrumb" aria-label="breadcrumbs">
            <ul>
              <li><a href="/">Home</a></li>
              <li class="is-active"><a href="#" aria-current="page">Co-Creation Stage</a></li>
            </ul>
          </nav>
        

        
  <h2 class="title is-2">Co-Creation Stage</h2>

  <hr/>

  <div class="columns">
    <div class="column is-4">
      <h4 class="title is-4">Table of Contents</h4>

      <div class="content">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#description">Description</a></li>
    <li><a href="#user-documentation">User Documentation</a>
      <ul>
        <li><a href="#tutorial-1">Tutorial 1</a></li>
        <li><a href="#tutorial-2">Tutorial 2</a></li>
      </ul>
    </li>
    <li><a href="#deployment">Deployment</a>
      <ul>
        <li><a href="#dependencies">Dependencies</a></li>
        <li><a href="#ports">Ports</a></li>
        <li><a href="#deployment-1">Deployment</a></li>
        <li><a href="#encoding-api">Encoding API</a></li>
        <li><a href="#license">License</a></li>
        <li><a href="#experiment">Experiment</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>

      
        <div class="block">
          <a href="https://github.com/traction-project/CoCreationStage" target="_blank" class="button">
            <span class="icon">
              <i class="fab fa-github"></i>
            </span>
            <span>GitHub Repository</span>
          </a>
        </div>
      
    </div>
    <div class="column is-4">
      <h4 class="title is-4">Contact</h4>
      <div class="block">
        
  
    
    
    Please contact <a href="mailto:adominguez@vicomtech.org">Ana Dominguez</a> or <a href="mailto:scabrero@vicomtech.org">Sergio Cabrero Barros</a> for more information about the tool.
  


      </div>
      <h4 class="title is-4">License</h4>
      <div class="block">
        
          All code and documentation is licensed by the original authors and contributors under the
          <a href="https://github.com/traction-project/CoCreationStage/blob/master/LICENSE.LPGL">LGPL-V3 license</a>.
        
      </div>
    </div>
    
      <div class="column is-2 is-offset-2">
        <figure class="image is-square">
          <img src="https://traction-project.github.io/images/ccstage.png">
        </figure>
      </div>
    
  </div>

  <hr/>

  <div class="content">
    <h2 id="description">Description</h2>
<p>The Co-Creation Stage is a web-based tool that supports both live and on-demand media to enable art professionals and individuals from the TRACTION&rsquo;s targeted communities to remotely collaborate and to produce engaging and immersive opera shows. The video below contains an introduction to the Co-Creation Stage:</p>




    <div class="youtube-container" style="float:none; margin-left: auto; margin-right:auto;">
        <iframe src="https://www.youtube.com/embed/xrorc7ddk3M" title="youtube video" frameborder="0" allowFullscreen></iframe>
    </div>


<h2 id="user-documentation">User Documentation</h2>
<h3 id="tutorial-1">Tutorial 1</h3>
<p>This video presents instructions to create a template for a show managed by the Co-Creation Stage, specifying and configuring the needed locations, devices, users and contents for the show.</p>




    <div class="youtube-container" style="float:none; margin-left: auto; margin-right:auto;">
        <iframe src="https://www.youtube.com/embed/zg9naOBCT_4" title="youtube video" frameborder="0" allowFullscreen></iframe>
    </div>


<h3 id="tutorial-2">Tutorial 2</h3>
<p>This video shows how to configure and connect all the devices and how to use the Co Creation Stage during a live show.</p>




    <div class="youtube-container" style="float:none; margin-left: auto; margin-right:auto;">
        <iframe src="https://www.youtube.com/embed/NYW4dbRbQCQ" title="youtube video" frameborder="0" allowFullscreen></iframe>
    </div>


<h2 id="deployment">Deployment</h2>
<h3 id="dependencies">Dependencies</h3>
<p>The deployment of the tool requires to have installed:</p>
<ul>
<li>Nodejs v14.18.1</li>
<li>Npm</li>
<li>Docker-ce</li>
<li>Docker-compose</li>
<li>(Optional) AWS Account</li>
</ul>
<h3 id="ports">Ports</h3>
<p>The CoCreationStage is composed of many services that use the following ports:</p>
<ul>
<li>443 (reverse proxy)</li>
<li>80</li>
<li>8080 (motion)</li>
<li>8082 (orkestra-server)</li>
<li>3001 (encoding api)</li>
<li>8089,8989 (janus, webrtc gateway)</li>
</ul>
<h3 id="deployment-1">Deployment</h3>
<ol>
<li>
<p>Clone the project repository:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone git@github.com:traction-project/CoCreationStage.git
</span></span><span style="display:flex;"><span>cd CoCreationStage
</span></span></code></pre></div></li>
<li>
<p>The application uses several services and servers. These servers run inside Docker containers. So first of all, we need to download the docker images from <a href="https://vicomtech.box.com/s/54gumjw56s05ps5dcg67dmpa1oet3qhx">here</a>.</p>
<p>After downloading the files, move them to <strong>backend/images</strong> folder.</p>
</li>
<li>
<p>Install the docker images downloaded through next script:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd backend
</span></span><span style="display:flex;"><span>sh install.sh
</span></span></code></pre></div><p>(Optional) If you want to remove these images later, you can execute:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd backend
</span></span><span style="display:flex;"><span>sh uninstall.sh
</span></span></code></pre></div></li>
<li>
<p>Run the docker containers using the following commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd backend
</span></span><span style="display:flex;"><span>docker-compose up -d
</span></span></code></pre></div><p>(Optional) In case it is neccessary to stop the services, the commands are the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd backend
</span></span><span style="display:flex;"><span>docker-compose down
</span></span></code></pre></div></li>
<li>
<p>(Optional) <strong>Encoding  API</strong>. In case you want to use pre-recorded content, follow the steps specified <a href="#encoding-api">here</a>.</p>
</li>
<li>
<p>Configure the host or IP where the application will be deployed (by default is localhost):</p>
<ul>
<li>
<p>Configure the <em>host</em> variable at Orkestra-control <a href="https://github.com/traction-project/CoCreationStage/blob/master/orkestra-control/src/environments/environment.ts">config</a> file.</p>
</li>
<li>
<p>Configure the <em>host</em> variable at OrkestraApp <a href="https://github.com/traction-project/CoCreationStage/blob/master/orkestraApp/src/config/environmet.js">config</a> file.</p>
</li>
</ul>
</li>
<li>
<p>Compile the application:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm run build
</span></span></code></pre></div></li>
<li>
<p>Once it&rsquo;s done, the application will be available at the following URL:</p>
<p>https://YOURHOST/ (Where YOURHOST is the IP or domain specified in the step 6)</p>
</li>
</ol>
<h3 id="encoding-api">Encoding API</h3>
<p>The code of the service needed to host all the pre-recorded content and the guidelines to deploy it can be found <a href="https://github.com/traction-project/encoding-api">here</a>. But in this case docker image is provided, so the only thing you need is follow the next steps:</p>
<ul>
<li>
<p>This service uses a Elastic Transcoder pipeline from AWS to transcode the multimedia files to several formats and resolutions and a S3 Bucket to store these transcoded files. To configure these services, we need to configure the AWS Credentials in <a href="https://github.com/traction-project/CoCreationStage/blob/feature/local/backend/aws.json">aws.json</a> and  <a href="https://github.com/traction-project/CoCreationStage/blob/feature/local/backend/.env">.env</a> following the next documentation: <a href="https://github.com/traction-project/encoding-api#setup">link</a>.</p>
</li>
<li>
<p>The application uses specific user credentials to do the authentication in this service. That is why we need to create this user before running the application. To create it, we need to run the next command in the <strong>backend</strong> folder:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd backend
</span></span><span style="display:flex;"><span>docker compose exec encodingapi yarn register
</span></span></code></pre></div><p>After running this command, it will ask about a username and password. The username must be <strong>test</strong> and the password <strong>1234</strong></p>
</li>
<li>
<p>The S3 Bucket in AWS must be public. Copy the S3 Bucket URL and add it to <strong>subdomains</strong> field in <a href="https://github.com/traction-project/CoCreationStage/blob/master/orkestra-control/src/environments/environment.ts">environment.ts</a>, <a href="https://github.com/traction-project/CoCreationStage/blob/master/orkestra-control/src/environments/environment.dev.ts">environment.dev.ts</a> and <a href="https://github.com/traction-project/CoCreationStage/blob/master/orkestra-control/src/environments/environment.prod.ts">environment.prd.ts</a> files</p>
</li>
</ul>
<h3 id="license">License</h3>
<!-- raw HTML omitted -->
<h3 id="experiment">Experiment</h3>
<p>We are aware that the deployment of the CoCreationStage with all its functionalities is not immediate. However, if you would like to carry out an experiment with the CoCreationStage in a real event, do not hesitate to contact <a href="https://www.vicomtech.org/">Vicomtech</a> at <a href="mailto:mzorrilla@vicomtech.org">mzorrilla@vicomtech.org</a>.</p>

  </div>

      </div>
    </section>

    <footer class="footer">
      <div class="is-flex is-justify-content-center">
        <figure class="image is-24x24 mb-4">
          <img src="/images/logo.png">
        </figure>
      </div>

      <div class="content has-text-centered">
        <p class="is-size-6 has-text-weight-light">
          &copy; 2022 <a href="https://traction-project.eu">TRACTION Project</a>.<br/>
          This site is licensed under the <a href="https://github.com/traction-project/traction-project.github.io/tree/master/LICENSE">BSD license</a>.<br/>
          <br/>
          <i>Last update: 2022-12-02</i>
        </p>
      </div>
    </footer>
  </body>
</html>
