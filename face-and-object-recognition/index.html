<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TRACTION Toolset</title>
    <link rel="icon" type="image/x-icon" href="https://traction-project.github.io/images/logo.png">

    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport" />

    <script src="https://traction-project.github.io/scripts/navbar_menu.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link rel="stylesheet" href="https://traction-project.github.io/styles/style.css" />
  </head>
  <body>
    





<nav class="navbar is-dark" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href="https://traction-project.github.io/">
      <img src="https://traction-project.github.io/images/menu_logo.png">
    </a>

    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div id="navbarBasicExample" class="navbar-menu">
    <div class="navbar-start">
      <a class="navbar-item " href="https://traction-project.github.io/">
        Home
      </a>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link is-active">
          Co-Creation Space
        </a>

        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://traction-project.github.io/co-creation-space">
            Co-Creation Space
          </a>
          <a class="navbar-item" href="https://traction-project.github.io/face-and-object-recognition">
            Face and Object Recognition
          </a>
        </div>
      </div>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link ">
          Co-Creation Stage
        </a>

        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://traction-project.github.io/co-creation-stage">
            Co-Creation Stage
          </a>
          <a class="navbar-item" href="https://traction-project.github.io/encoding-api">
            Encoding API for Co-Creation Stage
          </a>
          <a class="navbar-item" href="https://traction-project.github.io/pre-recorded-content-adaptation">
            Pre-Recorded Content Adaptation
          </a>
          <a class="navbar-item" href="https://traction-project.github.io/live-content-adaptation">
            Live Content Adaptation
          </a>
        </div>
      </div>

      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link ">
          Immersive Experiences
        </a>

        <div class="navbar-dropdown">
          <a class="navbar-item" href="https://traction-project.github.io/social-vr">
            Social VR
          </a>
          <a class="navbar-item" href="https://traction-project.github.io/immersive-adaptive-player">
            Immsersive Adaptive Player
          </a>
        </div>
      </div>
    </div>
  </div>
</nav>


    

    <section class="section">
      <div class="container">
        
          <nav class="breadcrumb" aria-label="breadcrumbs">
            <ul>
              <li><a href="/">Home</a></li>
              <li class="is-active"><a href="#" aria-current="page">Face and Object Recognition Module for Co-Creation Space</a></li>
            </ul>
          </nav>
        

        
  <h2 class="title is-2">Face and Object Recognition Module for Co-Creation Space</h2>

  <hr/>

  <div class="columns">
    <div class="column is-4">
      <h4 class="title is-4">Table of Contents</h4>

      <div class="content">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#description">Description</a></li>
    <li><a href="#deployment">Deployment</a>
      <ul>
        <li><a href="#installation">Installation</a></li>
        <li><a href="#co-creation-space-integration">Co-Creation Space Integration</a></li>
        <li><a href="#standalone-usage">Standalone Usage</a></li>
        <li><a href="#video-face-recognition">Video face recognition</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>

      
        <div class="block">
          <a href="https://github.com/traction-project/FaceObjRecognitionForCCSpace" target="_blank" class="button">
            <span class="icon">
              <i class="fab fa-github"></i>
            </span>
            <span>GitHub Repository</span>
          </a>
        </div>
      
    </div>
    <div class="column is-4">
      <h4 class="title is-4">Contact</h4>
      <div class="block">
        
  
    
    
    Please contact <a href="mailto:anderson.simiscuka2@mail.dcu.ie">Anderson Simiscuka</a> or <a href="mailto:gabriel.muntean@dcu.ie">Gabriel Muntean</a> for more information about the tool.
  


      </div>
      <h4 class="title is-4">License</h4>
      <div class="block">
        
          All code and documentation is licensed by the original authors and contributors under the
          <a href="https://github.com/traction-project/FaceObjRecognitionForCCSpace/blob/master/LICENSE.txt">BSD-2-Clause license</a>.
        
      </div>
    </div>
    
  </div>

  <hr/>

  <div class="content">
    <h2 id="description">Description</h2>
<p>The Face and Object Recognition Module for Co-Creation Space contains neural networks capable of generating automatic tags based on face and object recognition for content filtering in the Co-Creation Space.</p>
<h2 id="deployment">Deployment</h2>
<h3 id="installation">Installation</h3>
<p>Follow the instructions at <a href="https://pytorch.org/">https://pytorch.org/</a> to install PyTorch for your
system using ether <code>conda</code> or <code>pip</code>. If you have a CUDA compatible graphics
card, ensure to install a CUDA comparible version of PyTorch to allow the
deep models to run on the GPU.</p>
<p>To install the <code>facerec</code> package and <code>facetool</code> console script, run:</p>
<pre tabindex="0"><code>pip install .
</code></pre><p>This will install the <code>facetool</code> script on your environment path.</p>
<h3 id="co-creation-space-integration">Co-Creation Space Integration</h3>
<p>The <code>facerecdb.py</code> file integrates the face recognition module to Co-Creation Space. Once Co-Creation Space is running with AWS credentials set up in the AWS CLI, simply run the <code>facerecdb.py</code> file. Make sure database credentials are correct.
The module will add tags based on faces found to videos in the Co-Creation Space. For faces to be correctly tagged, upload to Co-Creation Space (i.e. create a post) at least one image of the faces of the individuals that appears in videos. Name the post with the name of the individual.</p>
<h3 id="standalone-usage">Standalone Usage</h3>
<p>To see the available commands, run:</p>
<pre tabindex="0"><code>facetool --help
</code></pre><p>The output will look something like:</p>
<pre tabindex="0"><code>usage: facetool [-h] {index,thumbnail,recognize_gui,recognize,detect,detect_camera_demo,track,download} ...

optional arguments:
  -h, --help            show this help message and exit

subcommands:
  {index,thumbnail,recognize_gui,recognize,detect,detect_camera_demo,track,download}
    index               Indexes a dataset of face images.
    thumbnail           Generate thumbnails for an input image folder.
    recognize_gui       Detect and recognize faces in images or video.
    recognize           Detect and recognize faces in images or video.
    detect              Detect faces and write bounding boxes to stdout.
    detect_camera_demo  Detect faces on the webcam and show the results in a GUI window.
    track               Detect faces and tracks them.
    download            Downloads and extracts the LFW dataset.
</code></pre><h3 id="video-face-recognition">Video face recognition</h3>
<p>To use the video face recognition software, you&rsquo;ll first need to index a
collection of faces to recognize. The software assumes that this collection
is stored in a folder with one subfolder per individual, each named with the
label you want to apply to that person. Inside these folders should be one or
more example images of the person.</p>
<h4 id="indexing-media">Indexing media</h4>
<p>To index media run the following:</p>
<pre tabindex="0"><code>facetool index media/images media/index 
</code></pre><p>to create a <code>media/index</code> folder containing the indexed files. Add a
<code>--device=cpu</code> to run this on the CPU. Indexing may take some time, especially
on a CPU (approx 30 mins).</p>
<h4 id="outputting-the-results-of-recognition-to-the-console">Outputting the results of recognition to the console</h4>
<pre tabindex="0"><code>facetool recognize media/example.mp4 media/index --device cpu (--device is an optional parameter)
</code></pre><p>The output will look something like:</p>
<pre tabindex="0"><code>6 [310  61 372 150] Aaron_Tippin 0.5715298652648926
8 [301  54 364 147] Bob_Geldof 0.526273787021637
10 [297  49 359 139] Jimmy_Kimmel 0.6068898439407349
12 [291  48 354 137] Jimmy_Kimmel 0.5837208032608032
14 [286  47 350 135] Jimmy_Kimmel 0.6029414534568787
16 [285  45 347 132] Jimmy_Kimmel 0.6005147099494934
18 [284  44 346 130] Jimmy_Kimmel 0.6477267742156982
20 [282  44 345 131] Jimmy_Kimmel 0.649223268032074
22 [279  43 343 133] Jimmy_Kimmel 0.6489613652229309
24 [277  45 341 132] Jimmy_Kimmel 0.6109910011291504
26 [277  44 339 130] Jimmy_Kimmel 0.6060200929641724
28 [274  44 337 129] Jimmy_Kimmel 0.5980086922645569
30 [273  45 336 129] Jimmy_Kimmel 0.6105645298957825
</code></pre><p>Each line has the format <code>&lt;frame-number&gt; [&lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt;] &lt;label&gt; &lt;confidence&gt;</code></p>

  </div>

      </div>
    </section>

    <footer class="footer">
      <div class="is-flex is-justify-content-center">
        <figure class="image is-24x24 mb-4">
          <img src="/images/logo.png">
        </figure>
      </div>

      <div class="content has-text-centered">
        <p class="is-size-6 has-text-weight-light">
          &copy; 2022 <a href="https://traction-project.eu">TRACTION Project</a>.<br/>
          This site is licensed under the <a href="https://github.com/traction-project/traction-project.github.io/tree/master/LICENSE">BSD license</a>.<br/>
          <br/>
          <i>Last update: 2022-11-16</i>
        </p>
      </div>
    </footer>
  </body>
</html>
